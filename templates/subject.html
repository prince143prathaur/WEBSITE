<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ subject.name if subject.name else 'Subject Details' }}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
    /* Custom Video Player Styles - Keep original container behavior */
    .video-player-container {
        position: relative;
        width: 100%;
        margin: 2rem 0;
        background: #000;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
        /* Original aspect ratio handling */
        height: 0;
        padding-bottom: 56.25%; /* 16:9 aspect ratio */
    }

    #videoPlayer {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: contain;
        pointer-events: auto;
    }
    .video-player-container::after {
    content: '';
    position: absolute;
    top: 20%;
    left: 20%;
    right: 20%;
    bottom: 20%;
    /* border: 1px dashed rgba(255,255,255,0.3); /* visual guide */
    pointer-events: none;
}

    /* Fix only for fullscreen mode */
    .video-player-container:fullscreen {
        width: 100%;
        height: 100%;
        border-radius: 0;
        padding-bottom: 0;
    }
    
    .video-player-container:-webkit-full-screen {
        width: 100%;
        height: 100%;
        border-radius: 0;
        padding-bottom: 0;
    }
    
    .video-player-container:-moz-full-screen {
        width: 100%;
        height: 100%;
        border-radius: 0;
        padding-bottom: 0;
    }
    
    .video-player-container:-ms-fullscreen {
        width: 100%;
        height: 100%;
        border-radius: 0;
        padding-bottom: 0;
    }

    /* Rest of your original CSS remains exactly the same */
    .quality-options {
        background-color: black !important;
        color: white;
    }

    /* Custom Controls Container */
    .custom-controls {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
        padding: 15px;
        display: flex;
        flex-direction: column;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .video-player-container:hover .custom-controls,
    .video-player-container.touch-active .custom-controls {
        opacity: 1;
    }

    /* Progress Bar */
    .progress-container {
        width: 100%;
        height: 6px;
        background: rgba(255,255,255,0.2);
        border-radius: 3px;
        margin-bottom: 10px;
        cursor: pointer;
    }

    #progressBar {
        height: 100%;
        background: var(--primary);
        border-radius: 3px;
        width: 0%;
        position: relative;
    }

    #progressBar::after {
        content: '';
        position: absolute;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 12px;
        height: 12px;
        background: white;
        border-radius: 50%;
        opacity: 0;
        transition: opacity 0.2s;
    }

    .progress-container:hover #progressBar::after {
        opacity: 1;
    }

    /* Controls Bar */
    .controls-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
    }

    .left-controls, .right-controls {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    /* Control Buttons */
    .control-btn {
        background: transparent;
        border: none;
        color: white;
        font-size: 1.1rem;
        cursor: pointer;
        transition: all 0.2s ease;
        padding: 5px;
    }

    .control-btn:hover {
        color: var(--primary-light);
        transform: scale(1.1);
    }

    .control-btn:active {
        transform: scale(0.95);
    }

    /* Volume Control */
    .volume-container {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    #volumeSlider {
        width: 80px;
        height: 4px;
        background: rgba(255,255,255,0.2);
        border-radius: 2px;
        appearance: none;
        outline: none;
        opacity: 0;
        transition: opacity 0.3s ease, width 0.3s ease;
    }

    #volumeSlider::-webkit-slider-thumb {
        appearance: none;
        width: 12px;
        height: 12px;
        background: white;
        border-radius: 50%;
        cursor: pointer;
    }

    .volume-container:hover #volumeSlider {
        opacity: 1;
        width: 100px;
    }

    /* Time Display */
    .time-display {
        color: white;
        font-family: monospace;
        font-size: 0.9rem;
        display: flex;
        gap: 3px;
    }

    /* Settings Dropdown */
    .settings-dropdown {
        position: relative;
        display: inline-block;
    }

    .settings-btn {
        background: transparent;
        border: none;
        color: white;
        font-size: 1.1rem;
        cursor: pointer;
        transition: all 0.2s ease;
        padding: 5px;
    }

    .settings-btn:hover {
        color: var(--primary-light);
        transform: scale(1.1);
    }

    .settings-content {
        display: none;
        position: absolute;
        bottom: 100%;
        right: 0;
        background: rgba(0, 0, 0, 0.9);
        min-width: 150px;
        border-radius: 8px;
        padding: 10px;
        z-index: 100;
        backdrop-filter: blur(5px);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .settings-option {
        color: white;
        padding: 8px 12px;
        text-decoration: none;
        display: block;
        font-size: 0.9rem;
        border-radius: 4px;
        transition: all 0.2s;
        cursor: pointer;
    }

    .settings-option:hover {
        background: rgba(255, 255, 255, 0.1);
    }

    .settings-divider {
        height: 1px;
        background: rgba(255, 255, 255, 0.2);
        margin: 5px 0;
    }

    /* Speed chips */
    .speed-chips {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        margin-top: 5px;
    }

    .speed-chip {
        background: rgba(255,255,255,0.1);
        padding: 4px 8px;
        border-radius: 16px;
        font-size: 0.8rem;
        cursor: pointer;
        transition: all 0.2s;
    }

    .speed-chip:hover {
        background: rgba(255,255,255,0.2);
    }

    .speed-chip.active {
        background: var(--primary);
        color: white;
    }

    /* Portrait mode duration hide */
    @media (orientation: portrait) {
        .time-display {
            display: none;
        }
    }

    @media (orientation: landscape) {
        .time-display {
            display: flex;
        }
    }
.settings-content {
    background: rgba(0, 0, 0, 0.95) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

    /* Fullscreen styles - Fixed */
    #videoPlayer:-webkit-full-screen {
        object-fit: contain;
    }

    #videoPlayer:-moz-full-screen {
        object-fit: contain;
    }

    #videoPlayer:-ms-fullscreen {
        object-fit: contain;
    }

    #videoPlayer:fullscreen {
        object-fit: contain;
    }

    /* Big Play Button */
    .big-play-btn {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 70px;
        height: 70px;
        background: rgba(0,0,0,0.6);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 2rem;
        cursor: pointer;
        opacity: 1;
        transition: all 0.3s ease;
        border: 2px solid rgba(255,255,255,0.2);
    }

    .big-play-btn:hover {
        background: rgba(67, 97, 238, 0.7);
        transform: translate(-50%, -50%) scale(1.1);
    }

    .big-play-btn.hidden {
        opacity: 0;
        pointer-events: none;
    }

    /* Loading Spinner */
    .loading-spinner {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 50px;
        height: 50px;
        border: 4px solid rgba(255,255,255,0.3);
        border-radius: 50%;
        border-top-color: var(--primary);
        animation: spin 1s ease-in-out infinite;
        opacity: 0;
        transition: opacity 0.3s;
    }

    .loading-spinner.active {
        opacity: 1;
    }

    @keyframes spin {
        to { transform: translate(-50%, -50%) rotate(360deg); }
    }

    /* Seek feedback */
    .seek-feedback {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 24px;
        color: white;
        text-shadow: 0 0 10px rgba(0,0,0,0.5);
        background: rgba(0,0,0,0.7);
        padding: 10px 20px;
        border-radius: 8px;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.3s;
    }

    .seek-feedback.show {
        opacity: 1;
    }

    /* Caption Styles */
    .caption-display {
        position: absolute;
        bottom: 80px;
        left: 0;
        right: 0;
        text-align: center;
        color: white;
        font-size: 1.2rem;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.8);
        padding: 10px 20px;
        background: rgba(0,0,0,0.5);
    }

    :root {
        --primary: #4361ee;
        --primary-light: #4895ef;
        --primary-dark: #3a0ca3;
        --secondary: #7209b7;
        --accent: #f72585;
        --light: #f8f9fa;
        --light-gray: #e9ecef;
        --medium-gray: #ced4da;
        --dark-gray: #6c757d;
        --dark: #212529;
        --success: #4cc9f0;
        --warning: #f8961e;
        --danger: #ef233c;
        --text: #2b2d42;
        --text-light: #8d99ae;
    }

    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        line-height: 1.6;
        background-color: #f5f7ff;
        color: var(--text);
        -webkit-font-smoothing: antialiased;
        touch-action: manipulation;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }

    .main-header {
    background-color: #2c3e50;
    color: white;
    padding: 1rem;
    position: relative;
    height: 100px; /* enough height for two links on right */
}

.logo {
    position: absolute;
    top: 28px;
    left: 20px;
}

.logo h1 {
   font-size: 1.8rem;
    font-weight: 700;
    color: white;

}

.vertical-nav {
    position: absolute;
    top:7px;
    right: 20px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.vertical-nav a {
    color: white;
    text-decoration: none;
    display: flex;
    align-items: center;
    font-size: 1rem;
    font-weight: 500;
}

.vertical-nav a i {
    margin-right: 5px;
    font-size: 1rem;
}

.vertical-nav a:hover {
    text-decoration: underline;
}
    /* Main Content Styles */
    .main-content {
        padding: 2rem 0;
    }

    .subject-header {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        border-left: 6px solid var(--primary);
        position: relative;
        overflow: hidden;
    }

    .subject-header::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 120px;
        height: 120px;
        background: linear-gradient(45deg, rgba(67, 97, 238, 0.1), transparent);
        border-radius: 0 0 0 100%;
    }

    .subject-header h1 {
        color: var(--primary-dark);
        margin-bottom: 0.5rem;
        font-size: 2.2rem;
        font-weight: 700;
    }

    .subject-header p {
        color: var(--text-light);
        max-width: 800px;
        line-height: 1.7;
    }

    .subject-meta {
        display: flex;
        gap: 1.5rem;
        margin-top: 1rem;
        flex-wrap: wrap;
    }

    .meta-item {
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--dark-gray);
        font-size: 0.9rem;
    }

    .meta-item i {
        color: var(--primary);
    }

    /* Content Section Styles */
    .content-section {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .content-section:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
    }

    .section-title {
        display: flex;
        align-items: center;
        color: var(--secondary);
        margin-bottom: 1.5rem;
        padding-bottom: 0.75rem;
        border-bottom: 2px solid var(--light-gray);
    }

    .section-title i {
        margin-right: 12px;
        font-size: 1.4rem;
    }

    .section-title h2 {
        font-size: 1.5rem;
        font-weight: 600;
    }

    /* Content Grid Styles */
    .content-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 1.5rem;
    }

    /* Video Card Styles */
    .video-card {
        background: rgb(255, 255, 255);
        border-radius: 10px;
        overflow: hidden;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        border: 1px solid var(--light-gray);
        cursor: pointer;
    }

    .video-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
        border-color: var(--primary-light);
    }

    .video-thumbnail {
        position: relative;
        padding-bottom: 56.25%;
        background: linear-gradient(45deg, var(--primary), var(--secondary));
        overflow: hidden;
    }

    .video-thumbnail::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, rgba(0, 0, 0, 0.2), transparent);
    }

    .play-btn {
        position: absolute;
        inset: 0;
        display: grid;
        place-items: center;
    }

    .play-btn .btn-circle {
        background: rgba(255, 255, 255, 0.95);
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: grid;
        place-items: center;
        color: var(--primary);
        font-size: 1.4rem;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
    }

    .video-card:hover .play-btn .btn-circle {
        transform: scale(1.1);
        color: var(--accent);
    }

    .video-info {
        padding: 1.25rem;
    }

    .video-info h3 {
        margin-bottom: 0.5rem;
        color: var(--dark);
        font-size: 1.1rem;
        font-weight: 600;
    }

    .video-meta {
        display: flex;
        justify-content: space-between;
        color: var(--dark-gray);
        font-size: 0.85rem;
    }

    /* Document Card Styles */
    .doc-card {
        display: flex;
        flex-direction: column;
        height: 100%;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        border: 1px solid var(--light-gray);
    }

    .doc-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
        border-color: var(--primary-light);
    }

    .doc-icon {
        padding: 2rem 1.5rem;
        text-align: center;
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: white;
        font-size: 2.5rem;
    }

    .doc-info {
        padding: 1.5rem;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }

    .doc-info h3 {
        margin-bottom: 0.75rem;
        color: var(--dark);
        font-size: 1.1rem;
        font-weight: 600;
    }

    .doc-info p {
        color: var(--text-light);
        font-size: 0.9rem;
        margin-bottom: 1.5rem;
        line-height: 1.6;
        flex-grow: 1;
    }

    .download-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        background: linear-gradient(135deg, var(--primary), var(--primary-light));
        color: white;
        padding: 0.75rem;
        border-radius: 8px;
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
        width: 100%;
    }

    .download-btn:hover {
        background: linear-gradient(135deg, var(--primary-dark), var(--secondary));
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(67, 97, 238, 0.3);
    }

    /* Protection Overlay */
    .protection-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.95);
        z-index: 1000;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        backdrop-filter: blur(10px);
    }

    .protection-form {
        background: var(--dark);
        padding: 3rem;
        border-radius: 16px;
        text-align: center;
        max-width: 450px;
        width: 90%;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .protection-form h2 {
        margin-bottom: 1rem;
        color: white;
        font-size: 1.8rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
    }

    .protection-form p {
        color: var(--light-gray);
        margin-bottom: 1.5rem;
        font-size: 1rem;
    }

    #accessCode {
        width: 100%;
        padding: 14px 20px;
        margin: 1rem 0;
        border-radius: 8px;
        border: none;
        background: rgba(255, 255, 255, 0.1);
        color: white;
        font-size: 1rem;
        outline: none;
        transition: all 0.3s ease;
    }

    #accessCode:focus {
        background: rgba(255, 255, 255, 0.15);
        box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.3);
    }

    .unlock-btn {
        width: 100%;
        padding: 14px 20px;
        border-radius: 8px;
        border: none;
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: white;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
    }

    .unlock-btn:hover {
        background: linear-gradient(135deg, var(--primary-dark), var(--secondary));
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(67, 97, 238, 0.4);
    }

    /* Back Button */
    .back-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        background: linear-gradient(135deg, var(--secondary), var(--primary-dark));
        color: white;
        padding: 0.9rem 1.75rem;
        border-radius: 10px;
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
        margin-top: 1.5rem;
        box-shadow: 0 4px 15px rgba(114, 9, 183, 0.2);
    }

    .back-btn:hover {
        background: linear-gradient(135deg, var(--primary-dark), var(--secondary));
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(114, 9, 183, 0.3);
    }

    /* Empty State */
    .empty-state {
        text-align: center;
        padding: 3rem 1rem;
        color: var(--dark-gray);
    }

    .empty-state i {
        font-size: 3rem;
        margin-bottom: 1rem;
        color: var(--light-gray);
    }

    /* Responsive Styles */
    @media (max-width: 992px) {
        .content-grid {
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
        }
    }

    @media (max-width: 768px) {
        .header-content {
            flex-direction: column;
            text-align: center;
            gap: 1rem;
        }

        nav {
            margin-top: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .subject-header h1 {
            font-size: 1.8rem;
        }

        .content-section {
            padding: 1.5rem;
        }

        .protection-form {
            padding: 2rem;
        }
    }

    @media (max-width: 576px) {
        .content-grid {
            grid-template-columns: 1fr;
        }

        .subject-header {
            padding: 1.5rem;
        }

        .subject-header h1 {
            font-size: 1.5rem;
        }

        .meta-item {
            font-size: 0.8rem;
        }

        .section-title h2 {
            font-size: 1.3rem;
        }

        .protection-form h2 {
            font-size: 1.5rem;
        }
    }
    </style>
<style>
.settings-menu {
  position: absolute;
  bottom: 60px;
  right: 10px;
  background: rgba(0,0,0,0.85);
  color: white;
  padding: 10px;
  border-radius: 6px;
  display: none;
  z-index: 999;
  min-width: 120px;
}
.settings-menu .settings-section {
  margin-bottom: 10px;
}
.settings-option {
  padding: 5px;
  cursor: pointer;
}
.settings-option:hover {
  background: rgba(255,255,255,0.2);
}
.speed-chip {
  margin: 2px;
  padding: 4px 8px;
  background: rgba(255,255,255,0.1);
  border: none;
  border-radius: 4px;
  color: white;
  cursor: pointer;
}
.speed-chip.active {
  background: var(--primary-light, #ff9800);
}
</style>

</head>
<body oncontextmenu="return false;">

<header class="main-header">
    <div class="header-container">
        <div class="logo">
            <h1>LB Hub</h1>
        </div>

        <nav class="vertical-nav">
            <a href="{{ url_for('home') }}">
                <i class="fas fa-home"></i> Home
            </a>
            <a href="{{ url_for('show_batch', batch_id=subject.batch_id) }}">
                <i class="fas fa-arrow-left"></i> Back to Subject
            </a>
        </nav>
    </div>
</header>


    <main class="main-content">
        <div class="container">
            <div class="subject-header">
                <h1>{{ subject.name if subject.name else 'Unnamed Subject' }}</h1>
                <div class="subject-meta">
                    <div class="meta-item">
                        <i class="fas fa-video"></i>
                        <span>{{ lectures|length }} Video Lectures</span>
                    </div>
                </div>
            </div>

            {% if lectures %}
            <div class="content-section">
                <div class="section-title">
                    <i class="fas fa-play-circle"></i>
                    <h2>Video Lectures</h2>
                </div>
                
                <div class="video-player-container" id="videoContainer">
                    <video id="videoPlayer">
                        <!-- Video source will be set by JavaScript -->
                    </video>
                    
                    <!-- Big Play Button -->
                    <div class="big-play-btn" id="bigPlayBtn">
                        <i class="fas fa-play"></i>
                    </div>
                    
                    <!-- Loading Spinner -->
                    <div class="loading-spinner" id="loadingSpinner"></div>
                    
                    <!-- Seek Feedback -->
                    <div class="seek-feedback" id="seekFeedback"></div>
                    
                    <!-- Custom Controls -->
                    <div class="custom-controls">
                        <div class="progress-container" id="progressContainer">
                            <div id="progressBar"></div>
                        </div>
                        
                        <div class="controls-bar">
                            <div class="left-controls">
                                <button class="control-btn" id="playPauseBtn">
                                    <i class="fas fa-play"></i>
                                </button>
                                
                                <div class="volume-container">
                                    <button class="control-btn" id="volumeBtn">
                                        <i class="fas fa-volume-up"></i>
                                    </button>
                                    <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="1">
                                </div>
                                
                                <div class="time-display">
                                    <span id="currentTime">00:00</span>
                                    <span>/</span>
                                    <span id="duration">00:00</span>
                                </div>
                            </div>
                            
                            <div class="right-controls">
                                <div class="settings-dropdown">
                                    <button class="control-btn settings-btn" id="settingsBtn" onclick="toggleSettingsMenu()">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                    <div class="settings-content" id="settingsMenu">
                                        <div class="settings-section">
                                            <div class="settings-option">
                                                <span>Playback Speed</span>
                                            </div>
                                            <select id="speedSelect" class="settings-option" style="width: 100%; background: black; color: white; border: none;">
                                                <option value="0.75">0.75x</option>
                                                <option selected="" value="1">1x</option>
                                                <option value="1.25">1.25x</option>
                                                <option value="1.5">1.5x</option>
                                                <option value="1.75">1.75x</option>
                                                <option value="2">2x</option>
                                                <option value="2.25">2.25x</option>
                                                <option value="2.5">2.5x</option>
                                                <option value="2.75">2.75x</option>
                                                <option value="3">3x</option>
                                            </select>
                                            <div class="speed-chips">
                                                <div class="speed-chip active" data-speed="1">1x</div>
                                                <div class="speed-chip" data-speed="1.25">1.25x</div>
                                                <div class="speed-chip" data-speed="1.5">1.5x</div>
                                                <div class="speed-chip" data-speed="1.75">1.75x</div>
                                                <div class="speed-chip" data-speed="2">2x</div>
                                                <div class="speed-chip" data-speed="2.25">2.25x</div>
                                            </div>
                                        </div>
                                        <div class="settings-divider"></div>
                                        <div class="settings-section">
                                            <div class="settings-option">
                                                <span>Quality</span>
                                            </div>
                                            <div id="qualityOptions" class="quality-options">
                                                <div class="settings-option">Auto</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <button class="control-btn" id="fullscreenBtn">
                                    <i class="fas fa-expand"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="content-grid">
                    {% for lecture in lectures %}
                    <div class="content-card video-card" onclick="loadVideo('{{ lecture.file_url }}', '{{ lecture.title }}')">
                        <div class="video-thumbnail">
                            <div class="play-btn">
                                <div class="btn-circle">
                                    <i class="fas fa-play"></i>
                                </div>
                            </div>
                        </div>
                        <div class="video-info">
                            <h3>{{ lecture.title if lecture.title else 'Untitled Lecture' }}</h3>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% endif %}

            {% if notes %}
            <div class="content-section">
                <div class="section-title">
                    <i class="fas fa-file-alt"></i>
                    <h2>Study Notes</h2>
                </div>
                <div class="content-grid">
                    {% for note in notes %}
                    <div class="content-card doc-card">
                        <div class="doc-icon"><i class="fas fa-file-pdf"></i></div>
                        <div class="doc-info">
                            <h3>{{ note.title }}</h3>
                            <p>{{ note.description }}</p>
                            <a href="{{ note.file_url }}" class="download-btn" download>
                                <i class="fas fa-download"></i> Download Notes
                            </a>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% endif %}

            {% if dpps %}
            <div class="content-section">
                <div class="section-title">
                    <i class="fas fa-tasks"></i>
                    <h2>Practice Problems</h2>
                </div>
                <div class="content-grid">
                    {% for dpp in dpps %}
                    <div class="content-card doc-card">
                        <div class="doc-icon"><i class="fas fa-file-alt"></i></div>
                        <div class="doc-info">
                            <h3>{{ dpp.title }}</h3>
                            <p>{{ dpp.description }}</p>
                            <a href="{{ dpp.file_url }}" class="download-btn" download>
                                <i class="fas fa-download"></i> Download DPP
                            </a>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% endif %}

            {% if solutions %}
            <div class="content-section">
                <div class="section-title">
                    <i class="fas fa-check-circle"></i>
                    <h2>Solutions</h2>
                </div>
                <div class="content-grid">
                    {% for solution in solutions %}
                    <div class="content-card doc-card">
                        <div class="doc-icon"><i class="fas fa-file-pdf"></i></div>
                        <div class="doc-info">
                            <h3>{{ solution.title }}</h3>
                            <p>{{ solution.description }}</p>
                            <a href="{{ solution.file_url }}" class="download-btn" download>
                                <i class="fas fa-download"></i> Download Solutions
                            </a>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% endif %}


        </div>
    </main>

    <!-- HLS.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<script>
const _0x259a16=_0x5782;(function(_0x465aa9,_0x2ad4eb){const _0x4138f1=_0x5782,_0x1a5eeb=_0x465aa9();while(!![]){try{const _0x66742=-parseInt(_0x4138f1(0x143))/0x1+parseInt(_0x4138f1(0x113))/0x2+-parseInt(_0x4138f1(0x14b))/0x3*(-parseInt(_0x4138f1(0x158))/0x4)+parseInt(_0x4138f1(0x14e))/0x5+-parseInt(_0x4138f1(0x153))/0x6+-parseInt(_0x4138f1(0xed))/0x7+parseInt(_0x4138f1(0x10a))/0x8;if(_0x66742===_0x2ad4eb)break;else _0x1a5eeb['push'](_0x1a5eeb['shift']());}catch(_0x5ad51e){_0x1a5eeb['push'](_0x1a5eeb['shift']());}}}(_0x275f,0x64fa6));const isRealChrome=()=>{const _0x5d45c6=_0x5782,_0x17ab9f=navigator[_0x5d45c6(0x125)][_0x5d45c6(0x127)]();return _0x17ab9f[_0x5d45c6(0x129)](_0x5d45c6(0x13e))&&!_0x17ab9f[_0x5d45c6(0x129)]('edg/')&&!_0x17ab9f[_0x5d45c6(0x129)](_0x5d45c6(0x132))&&!_0x17ab9f['includes'](_0x5d45c6(0x12f))&&window[_0x5d45c6(0x13e)]!==undefined;};if(!isRealChrome()){window[_0x259a16(0x102)][_0x259a16(0x10b)]='https://t.me/contact_262524_bot';throw new Error(_0x259a16(0x13c));}const video=document[_0x259a16(0x118)](_0x259a16(0x131)),videoContainer=document[_0x259a16(0x118)]('videoContainer'),playPauseBtn=document['getElementById']('playPauseBtn'),bigPlayBtn=document['getElementById'](_0x259a16(0x128)),progressBar=document[_0x259a16(0x118)](_0x259a16(0x107)),progressContainer=document[_0x259a16(0x118)]('progressContainer'),volumeBtn=document[_0x259a16(0x118)](_0x259a16(0xee)),volumeSlider=document['getElementById'](_0x259a16(0x110)),currentTimeEl=document[_0x259a16(0x118)]('currentTime'),durationEl=document['getElementById'](_0x259a16(0x147)),speedSelect=document['getElementById'](_0x259a16(0xec)),fullscreenBtn=document[_0x259a16(0x118)](_0x259a16(0xff)),loadingSpinner=document[_0x259a16(0x118)](_0x259a16(0xf3)),settingsBtn=document[_0x259a16(0x118)](_0x259a16(0x140)),settingsMenu=document[_0x259a16(0x118)](_0x259a16(0x15d)),seekFeedback=document[_0x259a16(0x118)](_0x259a16(0xf4)),speedChips=document[_0x259a16(0x14c)]('.speed-chip');let hls,levels=[],lastTap=0x0;settingsBtn[_0x259a16(0xf8)](_0x259a16(0x11b),function(_0x494b5f){const _0x254c98=_0x259a16;_0x494b5f['stopPropagation'](),settingsMenu[_0x254c98(0x130)]['display']=settingsMenu[_0x254c98(0x130)][_0x254c98(0x11f)]===_0x254c98(0x120)?_0x254c98(0xfc):_0x254c98(0x120);}),document[_0x259a16(0xf8)](_0x259a16(0x11b),function(_0x27832a){const _0x61731f=_0x259a16;!settingsMenu[_0x61731f(0x163)](_0x27832a[_0x61731f(0x15e)])&&_0x27832a[_0x61731f(0x15e)]!==settingsBtn&&(settingsMenu[_0x61731f(0x130)][_0x61731f(0x11f)]=_0x61731f(0xfc));});function togglePlay(){const _0x2dfb7b=_0x259a16;video['paused']?(updateQualityOptions(),video['play']()):video[_0x2dfb7b(0x135)]();}function updateProgress(){const _0x3a29d7=_0x259a16,_0x38991f=video[_0x3a29d7(0xfe)]/video[_0x3a29d7(0x147)]*0x64;progressBar[_0x3a29d7(0x130)]['width']=_0x38991f+'%',currentTimeEl['textContent']=formatTime(video[_0x3a29d7(0xfe)]);}function updateQualityOptions(){const _0x2a8d93=_0x259a16,_0x15013f=document[_0x2a8d93(0x118)](_0x2a8d93(0xea));_0x15013f[_0x2a8d93(0x12e)]='';if(levels['length']>0x1)levels[_0x2a8d93(0x13f)]((_0x67b699,_0x31bb9e)=>{const _0x129d4b=_0x2a8d93,_0x2b0784=document[_0x129d4b(0x133)](_0x129d4b(0x104));_0x2b0784['className']=_0x129d4b(0x14d),_0x2b0784['textContent']=_0x67b699[_0x129d4b(0xfa)]+'p',_0x2b0784[_0x129d4b(0xf8)](_0x129d4b(0x11b),()=>{const _0xfb71d4=_0x129d4b;hls[_0xfb71d4(0x101)]=_0x31bb9e,document[_0xfb71d4(0x14c)](_0xfb71d4(0x134))[_0xfb71d4(0x13f)](_0x652794=>{const _0x4943ff=_0xfb71d4;_0x652794[_0x4943ff(0x130)][_0x4943ff(0x11c)]=_0x4943ff(0xf2);}),_0x2b0784[_0xfb71d4(0x130)][_0xfb71d4(0x11c)]=_0xfb71d4(0x123),settingsMenu[_0xfb71d4(0x130)][_0xfb71d4(0x11f)]=_0xfb71d4(0xfc);}),_0x15013f['appendChild'](_0x2b0784);});else{const _0x148d8c=document[_0x2a8d93(0x133)]('div');_0x148d8c['className']=_0x2a8d93(0x14d),_0x148d8c['textContent']=_0x2a8d93(0x13a),_0x15013f[_0x2a8d93(0x162)](_0x148d8c);}}function setProgress(_0x489b9e){const _0x13a8c8=_0x259a16,_0x37f52f=this['clientWidth'],_0x4104e4=_0x489b9e['offsetX'];video[_0x13a8c8(0xfe)]=_0x4104e4/_0x37f52f*video[_0x13a8c8(0x147)];}function formatTime(_0x303387){const _0x58e02c=_0x259a16,_0x5f1cb7=Math[_0x58e02c(0x117)](_0x303387/0xe10),_0x598d67=Math[_0x58e02c(0x117)](_0x303387%0xe10/0x3c),_0x4e2d4a=Math['floor'](_0x303387%0x3c);return _0x5f1cb7>0x0?_0x5f1cb7['toString']()[_0x58e02c(0x137)](0x2,'0')+':'+_0x598d67[_0x58e02c(0x14f)]()[_0x58e02c(0x137)](0x2,'0')+':'+_0x4e2d4a['toString']()[_0x58e02c(0x137)](0x2,'0'):_0x598d67['toString']()[_0x58e02c(0x137)](0x2,'0')+':'+_0x4e2d4a[_0x58e02c(0x14f)]()[_0x58e02c(0x137)](0x2,'0');}function updateVolumeIcon(){const _0x4972e8=_0x259a16;if(video[_0x4972e8(0x10d)]||video['volume']===0x0)volumeBtn[_0x4972e8(0x12e)]=_0x4972e8(0xf5);else video[_0x4972e8(0x157)]<0.5?volumeBtn[_0x4972e8(0x12e)]=_0x4972e8(0x122):volumeBtn[_0x4972e8(0x12e)]=_0x4972e8(0xef);}function toggleMute(){const _0x5cc1f4=_0x259a16;video[_0x5cc1f4(0x10d)]=!video[_0x5cc1f4(0x10d)],updateVolumeIcon();}function setVolume(){const _0x36b858=_0x259a16;video[_0x36b858(0x157)]=this[_0x36b858(0x10c)],video[_0x36b858(0x10d)]=this[_0x36b858(0x10c)]==='0',updateVolumeIcon();}function changeSpeed(_0x56a443){const _0xbb415c=_0x259a16;video[_0xbb415c(0x152)]=parseFloat(_0x56a443),speedSelect[_0xbb415c(0x10c)]=_0x56a443,speedChips['forEach'](_0x2e0d17=>_0x2e0d17['classList'][_0xbb415c(0x13b)](_0xbb415c(0x10f)));const _0x479fc6=document['querySelector'](_0xbb415c(0x12c)+_0x56a443+'\x22]');if(_0x479fc6)_0x479fc6[_0xbb415c(0x14a)][_0xbb415c(0x109)](_0xbb415c(0x10f));localStorage[_0xbb415c(0x144)](_0xbb415c(0x151),_0x56a443);}function toggleFullscreen(){const _0xff8725=_0x259a16;!document[_0xff8725(0x138)]?(videoContainer[_0xff8725(0x126)](),fullscreenBtn[_0xff8725(0x12e)]=_0xff8725(0x150)):(document[_0xff8725(0x111)](),fullscreenBtn[_0xff8725(0x12e)]='<i\x20class=\x22fas\x20fa-expand\x22></i>');}function showLoading(){const _0x47a1cc=_0x259a16;loadingSpinner[_0x47a1cc(0x14a)][_0x47a1cc(0x109)](_0x47a1cc(0x10f));}function hideLoading(){const _0x1f2c6b=_0x259a16;loadingSpinner[_0x1f2c6b(0x14a)][_0x1f2c6b(0x13b)](_0x1f2c6b(0x10f));}function seek(_0x5c7fa9){const _0x2959ec=_0x259a16;video['currentTime']=Math[_0x2959ec(0xfd)](0x0,Math[_0x2959ec(0x148)](video[_0x2959ec(0xfe)]+_0x5c7fa9,video[_0x2959ec(0x147)])),showSeekFeedback(_0x5c7fa9>0x0?_0x2959ec(0x141)+_0x5c7fa9+'s':'⏪\x20'+_0x5c7fa9+'s');}function showSeekFeedback(_0x6a5eb3){const _0x42bbc2=_0x259a16;seekFeedback[_0x42bbc2(0x156)]=_0x6a5eb3,seekFeedback[_0x42bbc2(0x14a)][_0x42bbc2(0x109)](_0x42bbc2(0x12a)),setTimeout(()=>seekFeedback[_0x42bbc2(0x14a)]['remove']('show'),0x3e8);}function initPlayer(){const _0x136917=_0x259a16;video[_0x136917(0xf8)](_0x136917(0x15b),()=>{const _0x24d121=_0x136917;playPauseBtn[_0x24d121(0x12e)]=_0x24d121(0x146),bigPlayBtn[_0x24d121(0x12e)]=_0x24d121(0x146),bigPlayBtn[_0x24d121(0x14a)][_0x24d121(0x109)](_0x24d121(0x15a));}),video[_0x136917(0xf8)](_0x136917(0x135),()=>{const _0x535ca9=_0x136917;playPauseBtn[_0x535ca9(0x12e)]=_0x535ca9(0x124),bigPlayBtn[_0x535ca9(0x12e)]=_0x535ca9(0x124),bigPlayBtn['classList'][_0x535ca9(0x13b)](_0x535ca9(0x15a));}),playPauseBtn[_0x136917(0xf8)](_0x136917(0x11b),togglePlay),videoContainer['addEventListener'](_0x136917(0x11b),function(_0x98f426){const _0x417186=_0x136917,_0x11809b=videoContainer['getBoundingClientRect'](),_0x3093f2=_0x11809b['width']/0x2,_0x3fd1bb=_0x11809b[_0x417186(0xfa)]/0x2,_0x481f41=_0x98f426[_0x417186(0x12b)]-_0x11809b['left'],_0xfadcbb=_0x98f426[_0x417186(0x11a)]-_0x11809b[_0x417186(0x13d)],_0x153bb5=_0x11809b[_0x417186(0x112)]*0.6,_0x4857db=_0x11809b[_0x417186(0xfa)]*0.6;Math[_0x417186(0x149)](_0x481f41-_0x3093f2)<_0x153bb5/0x2&&Math[_0x417186(0x149)](_0xfadcbb-_0x3fd1bb)<_0x4857db/0x2&&(video[_0x417186(0x119)]?video[_0x417186(0x15b)]():video[_0x417186(0x135)]());}),video[_0x136917(0xf8)](_0x136917(0xf7),updateProgress),video[_0x136917(0xf8)](_0x136917(0x11e),()=>{const _0xeab3b3=_0x136917;durationEl[_0xeab3b3(0x156)]=formatTime(video[_0xeab3b3(0x147)]);}),video[_0x136917(0xf8)](_0x136917(0x116),showLoading),video[_0x136917(0xf8)]('playing',hideLoading),video[_0x136917(0xf8)](_0x136917(0x103),showLoading),video[_0x136917(0xf8)]('seeked',hideLoading),video[_0x136917(0xf8)](_0x136917(0x105),()=>{const _0x5efa0f=_0x136917;playPauseBtn['innerHTML']=_0x5efa0f(0x124),bigPlayBtn['classList'][_0x5efa0f(0x13b)](_0x5efa0f(0x15a));}),playPauseBtn[_0x136917(0xf8)]('click',togglePlay),bigPlayBtn[_0x136917(0xf8)]('click',togglePlay),progressContainer[_0x136917(0xf8)](_0x136917(0x11b),setProgress),volumeBtn[_0x136917(0xf8)](_0x136917(0x11b),toggleMute),volumeSlider[_0x136917(0xf8)]('input',setVolume),fullscreenBtn[_0x136917(0xf8)](_0x136917(0x11b),toggleFullscreen),speedChips[_0x136917(0x13f)](_0x56decd=>_0x56decd[_0x136917(0xf8)](_0x136917(0x11b),()=>changeSpeed(_0x56decd['dataset'][_0x136917(0x12d)]))),speedSelect[_0x136917(0xf8)]('change',function(){const _0x515fad=_0x136917;changeSpeed(this[_0x515fad(0x10c)]);});}function _0x5782(_0xc07648,_0x1102ab){const _0x275f41=_0x275f();return _0x5782=function(_0x578269,_0x34a5c6){_0x578269=_0x578269-0xe8;let _0x3ccbd5=_0x275f41[_0x578269];return _0x3ccbd5;},_0x5782(_0xc07648,_0x1102ab);}function loadVideo(_0x547550,_0x4e833e){const _0x1aa0bf=_0x259a16;hls&&(hls[_0x1aa0bf(0xf0)](),hls=null);video[_0x1aa0bf(0x135)](),video[_0x1aa0bf(0x115)](_0x1aa0bf(0xe8)),video[_0x1aa0bf(0xeb)]();if(Hls[_0x1aa0bf(0x136)]())hls=new Hls({'enableWorker':!![]}),hls[_0x1aa0bf(0x15f)](_0x547550),hls[_0x1aa0bf(0x10e)](video),hls['on'](Hls[_0x1aa0bf(0x139)][_0x1aa0bf(0x114)],function(_0x37b923,_0x49d97c){const _0x18b98c=_0x1aa0bf;levels=_0x49d97c['levels'],video[_0x18b98c(0x15b)](),document['title']=_0x4e833e+_0x18b98c(0x11d)+document['title'];}),hls['on'](Hls['Events'][_0x1aa0bf(0x114)],function(_0x149deb,_0x16cc98){const _0x756bc8=_0x1aa0bf;levels=_0x16cc98[_0x756bc8(0x154)],updateQualityOptions(),video[_0x756bc8(0x15b)](),document['title']=_0x4e833e+'\x20|\x20'+document['title'];});else video[_0x1aa0bf(0x159)](_0x1aa0bf(0xf9))&&(video[_0x1aa0bf(0xe8)]=_0x547550,video[_0x1aa0bf(0xf8)](_0x1aa0bf(0x161),function(){const _0x244015=_0x1aa0bf;updateQualityOptions(),video['play'](),document[_0x244015(0x106)]=_0x4e833e+'\x20|\x20'+document['title'];},{'once':!![]}));}initPlayer(),video[_0x259a16(0x157)]=volumeSlider['value'],updateVolumeIcon();const savedSpeed=localStorage[_0x259a16(0xf6)]('playbackSpeed')||'1';function _0x275f(){const _0x2e5043=['textContent','volume','4uSBkfH','canPlayType','hidden','play','touchend','settingsMenu','target','loadSource','KeyF','loadedmetadata','appendChild','contains','src','getBoundingClientRect','qualityOptions','load','speedSelect','3991799JLLjft','volumeBtn','<i\x20class=\x22fas\x20fa-volume-up\x22></i>','destroy','KeyM','white','loadingSpinner','seekFeedback','<i\x20class=\x22fas\x20fa-volume-mute\x22></i>','getItem','timeupdate','addEventListener','application/vnd.apple.mpegurl','height','changedTouches','none','max','currentTime','fullscreenBtn','preventDefault','currentLevel','location','seeking','div','ended','title','progressBar','now','add','844936hvjRjB','href','value','muted','attachMedia','active','volumeSlider','exitFullscreen','width','515214FYjpyW','MANIFEST_PARSED','removeAttribute','waiting','floor','getElementById','paused','clientY','click','color','\x20|\x20','durationchange','display','block','Space','<i\x20class=\x22fas\x20fa-volume-down\x22></i>','var(--primary-light)','<i\x20class=\x22fas\x20fa-play\x22></i>','userAgent','requestFullscreen','toLowerCase','bigPlayBtn','includes','show','clientX','.speed-chip[data-speed=\x22','speed','innerHTML','brave','style','videoPlayer','opr/','createElement','.quality-options\x20.settings-option','pause','isSupported','padStart','fullscreenElement','Events','Auto','remove','Browser\x20not\x20supported','top','chrome','forEach','settingsBtn','⏩\x20+','code','196913aqWucc','setItem','KeyK','<i\x20class=\x22fas\x20fa-pause\x22></i>','duration','min','abs','classList','446043NMVcZM','querySelectorAll','settings-option','3374485chuMFE','toString','<i\x20class=\x22fas\x20fa-compress\x22></i>','playbackSpeed','playbackRate','36156SnzNCR','levels','ArrowRight'];_0x275f=function(){return _0x2e5043;};return _0x275f();}changeSpeed(savedSpeed),videoContainer[_0x259a16(0xf8)](_0x259a16(0x15c),function(_0x534529){const _0x457944=_0x259a16,_0xe5a274=Date[_0x457944(0x108)]();if(_0xe5a274-lastTap<0x12c){const _0x1038c6=videoContainer[_0x457944(0xe9)](),_0x1feb54=_0x534529[_0x457944(0xfb)][0x0][_0x457944(0x12b)]-_0x1038c6['left'];if(_0x1feb54>_0x1038c6['width']/0x2)seek(0xa);else seek(-0xa);_0x534529['preventDefault']();}lastTap=_0xe5a274;}),document[_0x259a16(0xf8)]('keydown',function(_0x3d08cf){const _0x3c9cf5=_0x259a16;(_0x3d08cf[_0x3c9cf5(0x142)]===_0x3c9cf5(0x121)||_0x3d08cf[_0x3c9cf5(0x142)]===_0x3c9cf5(0x145))&&(_0x3d08cf['preventDefault'](),togglePlay()),(_0x3d08cf[_0x3c9cf5(0x142)]===_0x3c9cf5(0x155)||_0x3d08cf[_0x3c9cf5(0x142)]==='KeyL')&&(_0x3d08cf[_0x3c9cf5(0x100)](),seek(0x5)),(_0x3d08cf['code']==='ArrowLeft'||_0x3d08cf['code']==='KeyJ')&&(_0x3d08cf[_0x3c9cf5(0x100)](),seek(-0x5)),_0x3d08cf[_0x3c9cf5(0x142)]===_0x3c9cf5(0x160)&&(_0x3d08cf[_0x3c9cf5(0x100)](),toggleFullscreen()),_0x3d08cf[_0x3c9cf5(0x142)]===_0x3c9cf5(0xf1)&&(_0x3d08cf[_0x3c9cf5(0x100)](),toggleMute());});
</script>

<!-- Show only if JS disabled -->
    <script src="{{ url_for('static', filename='protect.js') }}"></script>
<noscript>
<div style="position:fixed;inset:0;background:#0008;color:#fff;display:flex;align-items:center;justify-content:center;z-index:99999;font-family:system-ui,Arial,sans-serif">
    <div style="max-width:640px;padding:24px;background:#111;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.4)">
        <h2 style="margin:0 0 8px">JavaScript required</h2>
        <p style="margin:0">This site requires JavaScript to function properly.</p>
    </div>
</div>
</noscript>
</body>

</html>
